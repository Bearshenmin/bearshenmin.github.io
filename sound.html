<head>
  <link rel="icon" type="image/x-icon" href="ico.ico">
  <title>錄音測試-TeddyBear</title>
  <script type="text/javascript">window.$crisp=[];window.CRISP_WEBSITE_ID="38f3548f-672d-49d8-b1a4-06b838d98a77";(function(){d=document;s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.getElementsByTagName("head")[0].appendChild(s);})();</script>
</head>
<button id="start-btn">開始錄音</button>
<button id="stop-btn">停止錄音</button>

<script>
  var startBtn = document.getElementById("start-btn");
  var stopBtn = document.getElementById("stop-btn");
  var audioStream;

  startBtn.addEventListener("click", function() {
    navigator.mediaDevices.getUserMedia({ audio: true })
      .then(function(stream) {
        audioStream = stream;
        startBtn.disabled = true;
        stopBtn.disabled = false;
        console.log("錄音已開始");
      })
      .catch(function(error) {
        console.error("無法訪問麥克風：" + error);
      });
  });

  stopBtn.addEventListener("click", function() {
    audioStream.getTracks().forEach(function(track) {
      track.stop();
    });
    startBtn.disabled = false;
    stopBtn.disabled = true;
    console.log("錄音已停止");
  });
</script>
